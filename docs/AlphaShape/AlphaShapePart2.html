<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="G.W. Lucas">
    <title>Implementation details for a 2D alpha shape utility</title>

    <link rel="stylesheet" href="../css/960_12_col.css" />
    <link rel="stylesheet" href="../css/text.css" />
    <link rel="stylesheet" href="../css/layout.css" />
</head>


<body>
    <div class="container_12">
        <div >
            <a class="top-link" href = "https://gwlucastrig.github.io/TinfourDocs/">Home</a>
            |
            <a class="top-link"  href="https://github.com/gwlucastrig/Tinfour">Code Repository (Github)</a>
            |
            <a class="top-link"  href="https://github.com/gwlucastrig/Tinfour/wiki">Wiki</a>
            |
            <a class="top-link"  href="AlphaShapePart1.html">Part 1: Concepts</a>
                        |
            <a class="top-link"  href="AlphaShapePart3.html">Part 3: Alpha circle calculation</a>
        </div>

        <div id="notescontent">

            <div class="titleblock">
                <p class="title">
                    Implementation details for a 2D alpha shape utility<br>Part 2: Implementation
                </p>
                <p class="author">by G.W. Lucas</p>
            </div>

            <div class="grid_10">
                <p>
                    <b>Note:</b> This webpage is under construction. <strong>More content coming soon.</strong>
                </p>

                <h1>Introduction</h1>
                <p>Part 1 of these notes introduced the concepts underlying a 2D alpha shape utility.
                    This section of the notes covers technical details and the methods implemented by the utility.
                    Although the Tinfour AlphaShape class is written in Java, the ideas described
                    in these notes would carry over to any development environment.</p>

                <p>The classic alpha shape definition depends on the construction of a
                    <a href="https://gwlucastrig.github.io/TinfourDocs/DelaunayIntro/index.html">Delaunay triangulation</a>.
                    And, naturally, the Tinfour AlphaShape code is built on top
                    of the Tinfour Delaunay triangulation classes. Tinfour implements the Delaunay
                    using a Java interface known as IIncrementalTin (for "incremental triangulated irregular network").
                    While some of the operations described in this article depend the capabilities
                    defined by that interface, all of the functions it uses should have equivalents
                    in other Delaunay triangulation implementations.</p>

                <h1 id="Preliminaries">Preliminaries</h1>
                <p>Before getting into the techniques used by AlphaShape, we will briefly review the
                    relevant features of Tinfour Delaunay triangulations. The figure below illustrates
                    the structure of a simple triangulation based on four vertices labeled A, B, C, and D.</p>


                <img width="320" height="335" alt="Triangulation A,B,C,D"
                     title="Delaunay triangulation for 4 points" src="images2/TinfourPreliminaries1.png"/>

                <p>The following details will be relevant to our discussion of the Tinfour algorithms
                    for constructing an AlphaShape from a Delaunay triangulation.</p>

                <ul>
                    <li>Tinfour Delaunay triangulations implement a collection of vertices and edges.
                        Triangles are not actively maintained in memory, but may be constructed on an as-needed basis.</li>
                    <li>In the classic Delaunay triangulation, pairs of vertices are linked together by bi-directional
                        edges.  For software implementation purposes, Tinfour depends on a single-direction
                        edge definition. So two vertices are linked together by a "paired edge" structure
                        that specifies one edge for each direction of traversal.</li>
                    <li>Each Tinfour edge carries a reference to a corresponding "dual" edge that supports
                        the opposite direction of traversal. In the figure above, the edge labeled "0"
                        indicates the traversal from vertex A to B. Its dual, the edge labeled "1"
                        supports the traversal from vertex B to A.</li>
                    <li>Tinfour assigns unique integer index values to each edge at the time
                        it is created. These index values allow an application to maintain
                        supplemental information about the edges they represent.</li>
                    <li>To form triangles, each Tinfour edge is linked to two other edges.
                        These linked edges are referred to the "forward" edge and the "reverse"
                        edge. For example, in the figure above:</li>
                    <ul>
                        <li>The forward of edge 0 is edge 2.</li>
                        <li>The reverse of edge 2 is edge 0.</li>
                        <li>The forward of edge 2 is edge 4.</li>
                        <li>The forward of edge 4 is edge 0.</li>
                        <li>The reverse of edge 0 is edge 4.</li>
                    </ul>
                    <li>When three edges are linked together to form a triangle,
                        the triangle is always specified in counterclockwise order.</li>
                    <li>The triangle associated with an edge is always formed to its left.
                        In the figure above, triangle ABC is defined by edges 0, 2, and 4.
                        Triangle DBA is defined by edges 8, 1, and 6.</li>
                </ul>


                <h1 id="IsAnEdgeExposed">Is an edge exposed?</h1>
                <p>As discussed in Part 1 of these notes, the alpha shape definition treats
                    each edge in the Delaunay triangulation as either
                    exposed or not exposed depending on whether any of the neighboring points in the sample
                    set lie within the pair of circles of radius <i>r</i> associated with the edge
                    (see <a href="./AlphaShapePart1.html#TheCircleSelectionCriterion">The circle selection criteria</a>).</p>

                <p>If we had to search for every point in an input sample set in order to discover whether
                    a circle is occupied or note, the processing cost for a large set of points
                    might become prohibitive (on the order of N<sup>2</sup>).
                    Fortunately, the nature of the Delaunay triangulation makes that
                    unnecessary.
                </p>
                <p>To determine the alpha exposure value
                    for any standard edge in the Delaunay triangulation, it is sufficient
                    to inspect the two vertices opposite that edge. If an alpha circle
                    is not occupied by either of the associated vertices, then it will not
                    be occupied by any other vertices in the Delaunay triangulation.
                </p>
                <p><strong>More content to come:</strong> images and discussion. Show the layout
                    of the two triangles near a Delaunay edge. Explain how to classify borders.
                    Note that a proof is required for this claim.</p>

                <h1 id="BuildingTheAlphaShape">Building the alpha shape</h1>
                <p><strong>More content to come:</strong> images and discussion.
                    Explain the edge traversal logic for creating polygons.
                    Explain isolated vertices issue.</p>



            </div>
        </div>
    </div>
</body>

